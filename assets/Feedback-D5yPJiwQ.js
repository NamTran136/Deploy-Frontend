import{c as d,r as m,j as t,a as p,A as x,l as g,_ as r}from"./index-BSbp0FSU.js";import{S as f}from"./SubNav-rFK2uXHS.js";const v=()=>{const{user:s,loading:o,token:c}=d(e=>e.user),i={email:s.email,title:"",content:"",file:void 0},[a,n]=m.useState(i),u=async e=>{e.preventDefault();const{status:h}=await p.post(x+g+"/UploadFile",a,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json",Authorization:`Bearer ${c}`}});h===200?(r.success("Phản hồi đã được gửi"),n(i)):r.error("Có lỗi xảy ra trong quá trình gửi")},l=e=>{n({...a,[e.target.id]:e.target.value})};return t.jsxs("div",{className:"profile",children:[t.jsx(f,{}),t.jsxs("form",{onSubmit:u,className:"form",style:{textAlign:"justify"},children:[t.jsxs("div",{children:["Username: ",s.username]}),t.jsxs("div",{children:["Email: ",s.email]}),t.jsx("label",{htmlFor:"title",children:"Tiêu đề: "}),t.jsx("input",{type:"text",id:"title",value:a.title,placeholder:"",className:"input-text",required:!0,onChange:l}),t.jsx("label",{htmlFor:"content",children:"Nội dung phản hồi: "}),t.jsx("textarea",{className:"input-text",name:"content",id:"content",value:a.content,rows:7,onChange:l,required:!0}),t.jsx("div",{children:"Bạn có thể tải hình ảnh liên quan hoặc đóng góp sách cho chúng tôi"}),t.jsx("input",{type:"file",onChange:e=>{e.target.files!==null&&n({...a,file:e.target.files[0]})}}),t.jsx("button",{type:"submit",className:"slate btn-disable",children:o?"Đăng tải...":"Gửi"})]})]})};export{v as default};
