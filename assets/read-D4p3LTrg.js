import{b as m,r as a,n as h,a as x,A as g,B as p,_ as j,j as e,L as n}from"./index-BSbp0FSU.js";import{A as k}from"./index-CrNBYFTV.js";import{I as N}from"./index-DQBNxnBM.js";const w=()=>{const o=m();a.useEffect(()=>{r()},[]);const{id:t}=h(),[s,c]=a.useState({id:0,code:"",title:"",description:"",author:"",language:"",imageUrl:"",numOfDownloads:0,numOfViews:0,isPrivate:!1,categoryId:0,category:""}),r=()=>{x.get(g+p+"/"+t).then(i=>{const l=i.data;c(l)}).catch(i=>{console.log(i),j.error("Có lỗi xảy ra khi tải")})},d=()=>{o("/admin/books")};return e.jsx("div",{className:"detail-container",onClick:d,children:e.jsxs("div",{className:"detail-content book-service",onClick:i=>{i.stopPropagation()},children:[s&&e.jsxs("div",{className:"book-wrapper",children:[e.jsxs("div",{className:"book-image-wrapper",children:[e.jsxs("div",{className:"book-image",children:[e.jsx("img",{src:s==null?void 0:s.imageUrl,alt:s==null?void 0:s.title,className:"mx-auto w-max-width h-auto"}),localStorage.getItem("token")===null&&(s==null?void 0:s.isPrivate)&&e.jsx("div",{className:"book-image-subitem",children:"Cần đăng nhập"})]}),e.jsxs("div",{className:"book-detail",children:[e.jsx("div",{className:"book-title",children:s==null?void 0:s.title}),e.jsxs("div",{className:"mt-2",children:["Tác giả: ",s==null?void 0:s.author]}),e.jsxs("div",{className:"mt-2",children:["Thể loại: ",s==null?void 0:s.category]}),e.jsxs("div",{className:"mt-2",children:["Ngôn ngữ: ",s==null?void 0:s.language]}),e.jsxs("div",{className:"mt-2",style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginRight:"2rem"},children:[e.jsx(k,{})," ",s==null?void 0:s.numOfDownloads]}),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(N,{})," ",s==null?void 0:s.numOfViews]})]}),(s==null?void 0:s.isPrivate)&&e.jsx("div",{className:"red book-message",children:"Vui lòng đăng nhập trước khi tải hoặc đọc ebook"})]})]}),e.jsx("div",{className:"separate",children:""}),e.jsx("div",{style:{padding:"2rem 20%"},children:e.jsx("embed",{src:s==null?void 0:s.code,type:"application/pdf",width:"100%",height:"500px",style:{textAlign:"center"}})}),e.jsx("div",{className:"separate",children:""}),e.jsxs("div",{className:"book-description-wrapper",children:[e.jsx("div",{className:"book-description-title",children:s==null?void 0:s.title}),e.jsx("p",{children:s==null?void 0:s.description})]})]}),e.jsxs("div",{className:"btn-wrapper mt-2",children:[e.jsx(n,{to:`/admin/book/edit/${t}`,className:"btn-primary",children:"Edit"}),e.jsx(n,{to:"/admin/books",className:"btn-secondary",children:"Back"})]})]})})};export{w as default};
