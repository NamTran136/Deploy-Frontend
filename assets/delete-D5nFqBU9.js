import{b as x,r as i,n as j,c as f,a as o,A as r,C as l,j as e,L as y,_ as d}from"./index-BSbp0FSU.js";const v=()=>{const n=x(),[a,m]=i.useState({id:0,name:""});i.useEffect(()=>{u()},[]);const{id:c}=j(),{token:h}=f(s=>s.user),u=()=>{o.get(r+l+"/"+c).then(s=>{const t=s.data;m(t)}).catch(s=>{console.log(s)})},g=()=>{n("/admin/categories")},p=s=>{s.preventDefault(),o.delete(`${r}${l}?id=${c}`,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${h}`}}).then(t=>{t.status===204&&(d.success("Delete this category successfully."),n("/admin/categories"))}).catch(t=>{console.log(t.message),d.error("Delete this category unsuccessfully.")})};return e.jsx("div",{className:"detail-container",onClick:g,children:e.jsxs("div",{className:"detail-content",onClick:s=>{s.stopPropagation()},children:[a&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Detail of Category"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("strong",{children:"ID: "}),a.id]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("strong",{children:"Name: "}),a.name]}),e.jsx("div",{className:"mt-2",children:e.jsx("strong",{children:"Would you like to delete this? "})})]}),e.jsx("form",{onSubmit:p,children:e.jsxs("div",{className:"btn-wrapper",children:[a&&e.jsx("button",{type:"submit",className:"btn-primary",children:"Confirm"}),e.jsx(y,{to:"/admin/categories",className:"btn-secondary",children:"Cancel"})]})})]})})};export{v as default};
